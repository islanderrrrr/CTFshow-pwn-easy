# 挑战简介
演示将flag写入堆中并输出其内容

# 思路
整体是将flag存入堆中，并读取置栈中，然后输出出来  

1. 打开文件
```
stream = fopen("/ctfshow_flag", "rb");
```

2. 获取文件大小
```
fseek(stream, 0LL, 2);    // 将文件指针移动到文件末尾
size = ftell(stream);     // 获取当前位置（即文件大小）
fseek(stream, 0LL, 0);    // 将文件指针重新移动到文件开头
```


3. 分配内存
```
puts("Allocate heap memory:");
sleep(3u);                // 暂停3秒
ptr = (char *)malloc(size); // 分配与文件大小相等的堆内存
```

4. 读取文件内容
```
sleep(1u);
puts("Read ctfshow_flag");
sleep(3u);
if ( fread(ptr, 1uLL, size, stream) == size )
```

5. 显示文件内容
```
fclose(stream);
puts("Here is your flag:");
for ( i = 0LL; i < size; ++i )
    putchar(ptr[i]);    // 逐字符输出文件内容
```

6. 清理资源
```
sleep(1u);
puts("free");
free(ptr);    // 释放动态分配的内存
```
